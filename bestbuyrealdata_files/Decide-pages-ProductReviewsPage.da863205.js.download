(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5737],{71313:e=>{e.exports={productName:"productName_2DsxN",loadMore:"loadMore_KEaGH",productReviewsPageTitle:"productReviewsPageTitle_GhVpu",ratingTopBorder:"ratingTopBorder_1vlLj",button:"button_3ITWP",backToProductDetails:"backToProductDetails_39KG6",icon:"icon_anGrL",arrowIcon:"arrowIcon_1reQV",link:"link_2AvMl",backArrow:"backArrow_3QR2V",backLinkWrapper:"backLinkWrapper_26VFK",reviewsSortDropdownWrapper:"reviewsSortDropdownWrapper_2WLZE",sortSection:"sortSection_6wdK0",reviewsSection:"reviewsSection_1L2hE",loadingReviews:"loadingReviews_18_iy",fluidRow:"fluidRow_1ELaN",customMargin:"customMargin_Xst7B",loadMoreContainer:"loadMoreContainer_1XMvD",customBreadcrumbListPadding:"customBreadcrumbListPadding_1GGj8",breadcrumbDivider:"breadcrumbDivider_ni_w4",storeBlock:"storeBlock_3fSNS",storesList:"storesList_2xltH",storesListDivider:"storesListDivider_eNbja",reviewsAggregationContainer:"reviewsAggregationContainer_1eHQF",productReviewsPageContainer:"productReviewsPageContainer_18yoV"}},28068:e=>{e.exports={endOfList:"endOfList_b04RG"}},37196:e=>{e.exports={container:"container_28Wb2",loadingContainer:"loadingContainer_3p_l5",loadMoreButtonContainer:"loadMoreButtonContainer_1hEMW",button:"button_1mq_B",loadMore:"loadMore_1j9N2",loadMoreRow:"loadMoreRow_1MF70",loadMoreLink:"loadMoreLink_2ntqQ"}},58940:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var o=r(67294),a=r(97132),n=r(37424),i=r(47389),s=r(87670),c=r(55763),l=r(24514),d=r(16052),u=r(9577),p=r(79318),m=r(26221),v=r(35952),g=r(99376),w=r(9847),h=r(89557),R=r(29896),f=r(81310),b=r(22073),E=r(71313),M=r(8235);const y=(0,a.defineMessages)({customerReviews:{id:"productReviewsPage.components.customerReviews"},title:{id:"productReviewsPage.components.title"},loadMore:{id:"productReviewsPage.components.loadMore"},clientReviews:{id:"productReviewsPage.components.lastBreadcrumbMessage"},productDetails:{id:"productReviewsPage.components.productDetailsBreadcrumbMessage"}});var L=r(3431),_=r(82522),P=r(22510),S=r(35894),C=r(84915),k=r(58962),A=r(84524),N=r(54691),B=r(28493),T=r(15785),D=r(45511),x=r(12890);const I=()=>{var e;const[t,r]=o.useState(0),[a,i]=o.useState(0),[c,l]=o.useState(),d=(0,n.useSelector)(x.ht),u=(0,n.useSelector)(x.wv),p=(0,k.T)(),{run:m,data:v,reviewId:g,subSlide:w,targetId:h}=(0,B.Z)({productName:null===(e=null==u?void 0:u.product)||void 0===e?void 0:e.name});o.useEffect(()=>{null==m||m()},[]);const R=o.useMemo(()=>[...v],[v]);o.useEffect(()=>{const e=R.findIndex(e=>"review"===e.type&&e.data.review.id===g);-1!==e&&(l("review"),r(e),i(null!=w?w:0))},[g,w]);const f=R[t];return o.createElement(C.Vq,{open:d,onOpenChange:e=>{!1===e?p((0,s.cB)(null)):(p((0,s.cB)("primary")),A.utils.pushEventToDataLayer({event:"pdp-image-zoom-interactions",payload:{customLinkName:"Gallery Expand"}}))}},o.createElement(S.RZ,{activeTab:c,triggerElement:"undefined"!=typeof window&&h?document.querySelector(`#${h}`):null,onCloseAutoFocus:()=>{h&&p((0,s.y4)())},renderRightColumn:e=>{if("review"===e.type)return o.createElement(N.x,{review:e.data.review})},activeSlide:f,activeSubSlide:a,slides:R,onZoomStart:()=>{A.utils.pushEventToDataLayer({event:"pdp-image-zoom-interactions",payload:{customLinkName:"Image Zoom"}})},dialogFooter:null}))},O=()=>{const e=(0,k.T)(),t=(0,n.useSelector)(D.tE);return o.createElement(T.Fi,{onReviewFeedbackHandler:(t,r)=>{e((0,s.xV)({reviewId:t,feedback:r}))},onReviewReportHandler:t=>{e((0,s.iN)({reviewId:t}))},screenSize:t},o.createElement(I,null))};var Z=function(e,t,r,o){return new(r||(r=Promise))(function(a,n){function i(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}c((o=o.apply(e,t||[])).next())})};class V extends o.Component{constructor(e){super(e),this.generateHeadTags=()=>{const{customerReviews:e,currentPage:t,totalPages:r}=this.props.customerReviews,{seoText:a,sku:n,name:i}=this.props.product,s=this.props.intl.formatMessage(y.title,{name:i}),c=a&&n&&p.Z.getCanonicalUrlByKey(this.props.language,"productReviews",a,n),l=1===t,u=(e,t)=>p.Z.getRelLinksByKey(this.props.language,"productReviews",e,t,n),m=e&&!(e&&t===r)?u("next",t+1):"",v=l?"":u("prev",t-1),g=[c&&{rel:"canonical",href:c},m&&{rel:"next",href:m},v&&{rel:"prev",href:v}];return o.createElement(d.Z,{title:s,links:g})},this.loadMoreResults=()=>{this.trackLoadMoreClick(),this.props.productReviewActions.getDisplayCustomerReviews({})},this.trackPageLoad=()=>this.props.productReviewActions.trackCustomerReviewPageView(),this.trackLoadMoreClick=()=>this.props.productReviewActions.trackCustomerReviewPageLoadMoreReviewsButtonClick(),this.getBreadcrumbEnds=e=>{const t=[];return t.push(this.getProductBreadcrumbLeaf(e)),t.push({label:e.formatMessage(y.clientReviews)}),t},e.bazaarVoiceJSActions.loadedProductReviewsJS()}render(){if(!this.props.product)return null;let e=0;const{name:t,sku:r,brandName:n,primaryParentCategoryId:i,seoText:s}=this.props.product,{customerReviews:c,ratingSummary:d}=this.props,{customerReviews:p,filter:h,loadingReviews:_,currentPage:S,totalPages:C}=c,k=S<C,A=Array.isArray(p)&&0!==p.length&&k,N=this.props.product?(0,g.g)(this.props,this.getBreadcrumbEnds(this.props.intl)):void 0;return d&&d.localeReviewCount&&(e="fr"===this.props.language?d.localeReviewCount.french:d.localeReviewCount.english),o.createElement("div",{className:E.container},this.props.product&&this.generateHeadTags(),o.createElement(l.Z,null),o.createElement(u.Z,null,o.createElement("main",{style:{minHeight:"100vh"}},o.createElement(w.ZP,{breadcrumbListItems:N,className:E.customBreadcrumbListPadding}),o.createElement("div",{className:E.productReviewsPageContainer},o.createElement("div",{className:E.productReviewsPageWrapper},o.createElement("div",null,o.createElement("h1",{className:E.productReviewsPageTitle},o.createElement(a.FormattedMessage,Object.assign({},y.customerReviews))),o.createElement("h2",{className:E.productName},(0,P.b)(t)),o.createElement("section",{className:E.reviewsAggregationContainer},o.createElement(L.r,{productSku:r,productBrandName:n,productPrimaryParentCategoryId:i,ratingSummary:d})),o.createElement(O,null),o.createElement("section",{className:E.sortSection},0!==e&&o.createElement(b.Z,null)),o.createElement("section",{className:E.reviewsSection},Array.isArray(p)&&p.length>0&&o.createElement(M.Z,null),(null==h?void 0:h.verifiedPurchaserToggleSelected)&&Array.isArray(p)&&0===p.length&&o.createElement(R.C,{className:E.customMargin})),o.createElement("div",{className:E.loadMore+" analytics-ui-events","data-automation":"load-more-button"},o.createElement(m.f,{className:E.loadMoreContainer,hideDivider:!0,isLoading:_,labelText:this.props.intl.formatMessage(y.loadMore),onLoadMoreButtonTap:this.loadMoreResults,params:[s,r],query:{page:this.props.customerReviews.currentPage+1},shouldRender:A}),Array.isArray(p)&&p.length>=10&&o.createElement(f.p,{productSku:r,productBrandName:n,primaryParentCategoryId:i}))))))),o.createElement(v.Z,null))}componentDidMount(){return Z(this,void 0,void 0,function*(){this.props.bazaarVoiceJS.isloadedSellerReviewsJS&&location.reload(),yield this.syncProductReviewStateWithLocation(this.props),this.trackPageLoad()})}componentWillReceiveProps(e){this.props.routing.locationBeforeTransitions!==e.routing.locationBeforeTransitions&&this.syncProductReviewStateWithLocation(e),this.props.bazaarVoiceJS.isloadedSellerReviewsJS&&location.reload()}syncProductReviewStateWithLocation(e){e.productReviewActions&&e.productReviewActions.syncProductReviewStateWithLocation&&e.productReviewActions.syncProductReviewStateWithLocation({location:e.routing.locationBeforeTransitions})}getProductBreadcrumbLeaf(e){const{product:t}=this.props;return{linkTypeId:t.sku,label:e.formatMessage(y.productDetails),linkType:"product",seoText:t.seoText}}}const W=(0,n.connect)(e=>({language:e.intl.language,routing:e.routing,screenSize:(0,_.tEB)(e),bazaarVoiceJS:e.bazaarVoiceJS,customerReviews:(0,_.lMV)(e),ratingSummary:(0,_.N1L)(e),product:e.product.product,category:e.product.category}),e=>({routingActions:(0,i.bindActionCreators)(c.routingActionCreators,e),searchActions:(0,i.bindActionCreators)(c.$p,e),bazaarVoiceJSActions:(0,i.bindActionCreators)(h.h6,e),productReviewActions:(0,i.bindActionCreators)(s.kJ,e)}))(function(e){const t=(0,a.useIntl)();return o.createElement(V,Object.assign({},e,{intl:t}))})},40961:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>c});var o=r(67294),a=r(97132),n=r(28068);const i=(0,a.defineMessages)({endOfList:{id:"search.components.endOfResults.endOfList"}}),s="end-of-results",c=()=>o.createElement("div",{className:n.endOfList,"data-testid":s},o.createElement(a.FormattedMessage,Object.assign({},i.endOfList)))},26221:(e,t,r)=>{"use strict";r.d(t,{f:()=>d});var o=r(8187),a=r(67294),n=r(40961),i=r(37196),s=r(97132);const c=(0,s.defineMessages)({buttonText:{id:"search.components.loadMore.buttonText"},showMoreProducts:{id:"search.components.loadMore.showMoreProducts"}});var l=r(53687);const d=({className:e,hideDivider:t,isEndOfResults:r,isLoading:d,labelText:u,onLoadMoreButtonTap:p,shouldRender:m})=>{const v=(0,o.cn)(!t&&i.loadMoreRow,i.loadMoreButtonContainer,e),g=(0,s.useIntl)();if(!m)return null;if(r)return a.createElement(n.ZP,null);const w=a.createElement(l.z,{variant:"primary-solid",className:"mb-6 mt-4 w-full sm:mb-1.5 sm:mt-3 md:w-40",onClick:e=>{d||(e.preventDefault(),p())},"aria-label":u||g.formatMessage(c.showMoreProducts),disabled:d,"data-automation":"load-more",loading:d},u||g.formatMessage(c.buttonText));return a.createElement("div",{className:v},w)}}}]);