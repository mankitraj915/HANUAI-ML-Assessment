(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4006],{10752:e=>{e.exports={facetFilterPlaceholderContainer:"facetFilterPlaceholderContainer_1m_Hz",facetFilterPlaceholder:"facetFilterPlaceholder_mlKs3"}},51447:e=>{e.exports={imagePlaceholder:"imagePlaceholder_38Gg6",mainRow:"mainRow_16dcP",namePlaceholderTop:"namePlaceholderTop_235Dz",namePlaceholderBottom:"namePlaceholderBottom_2lllP",ratingPlaceholder:"ratingPlaceholder_2mWC4",pricePlaceholder:"pricePlaceholder_3iud-",onlineAvailabilityPlaceholder:"onlineAvailabilityPlaceholder_1fvFx",storeAvailabilityPlaceholder:"storeAvailabilityPlaceholder_3MVTQ",addToCartPlaceholder:"addToCartPlaceholder_2DQlu",titlePlaceholder:"titlePlaceholder_3Mjw1"}},26319:e=>{e.exports={container:"container_15K9R",noResults:"noResults_heUpI",toggleAndSort:"toggleAndSort_3Sdf9",toolbarGroup:"toolbarGroup_2OIW0"}},28581:e=>{e.exports={variantHeaderPlaceholder:"variantHeaderPlaceholder_2KHi8",variantSwatchesPlaceholder:"variantSwatchesPlaceholder_2OJDq"}},15785:(e,t,a)=>{"use strict";a.d(t,{IV:()=>f,h2:()=>b,Fi:()=>n,C$:()=>p,K1:()=>y,y$:()=>s,hn:()=>h,sS:()=>g,Hz:()=>d,LP:()=>u,Br:()=>m,wN:()=>i,Oy:()=>c});var r=a(67294);const l=r.createContext(void 0),n=({children:e,onReviewFeedbackHandler:t,onReviewReportHandler:a,screenSize:n})=>{const i={onReviewFeedbackHandler:t,onReviewReportHandler:a,screenSize:n};return r.createElement(l.Provider,{value:i},e)},i=()=>{const e=r.useContext(l);if(void 0===e)throw new Error("useReviewLegacyContext must be used within a ReviewLegacyContextProvider");return e},o=r.createContext(void 0),s=({children:e,defaultReview:t=null})=>{const[a,l]=r.useState(0),[n,i]=r.useState(t);return r.createElement(o.Provider,{value:{activeReview:n,activeSubSlide:a,setActiveReview:i,setActiveSubSlide:l}},e)},c=()=>{const e=r.useContext(o);if(void 0===e)throw new Error("useSingleReviewMediaGalleryContext must be used within a SingleReviewMediaGalleryContextProvider");return e},d=e=>{const t=null==e?void 0:e.recommendationCount;if(!t||"number"!=typeof(null==t?void 0:t.positive)&&"number"!=typeof(null==t?void 0:t.negative))return!1;return((null==t?void 0:t.positive)+(null==t?void 0:t.negative)||0)>0},u=e=>!!e&&!!Object.keys(e).length&&!!e.name,m=({value:e,maxTiles:t=5})=>"number"==typeof e&&e>0&&e<=t;var h,g,p,v,b,f,y;!function(e){e.rating="rating",e.date="date",e.helpfulness="helpfulness",e.relevancy="relevancy"}(h||(h={})),function(e){e.ascending="asc",e.descending="desc"}(g||(g={})),function(e){e.newest="newest",e.oldest="oldest",e.highestRating="highestRating",e.lowestRating="lowestRating",e.helpfulness="helpfulness",e.relevancy="relevancy"}(p||(p={})),function(e){e.title="title",e.comment="comment",e.email="email",e.reviewrLocation="reviewerLocation"}(v||(v={})),function(e){e.CONTAIN_PROFANITY="CONTAIN_PROFANITY",e.EMOJI_NOT_SUPPORTED="EMOJI_NOT_SUPPORTED",e.DUPLICATE_SUBMISSION="DUPLICATE_SUBMISSION"}(b||(b={})),function(e){e.tokenUsed="EMAIL_VERIFICATION_TOKEN_ALREADY_USED",e.invalidToken="EMAIL_VERIFICATION_TOKEN_INVALID"}(f||(f={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"}(y||(y={}))},36691:(e,t,a)=>{"use strict";a.d(t,{KM:()=>p,Kk:()=>E,dt:()=>A,cT:()=>I,Xt:()=>M,Rm:()=>$,Vl:()=>z,s8:()=>se,zM:()=>ce,hd:()=>Ce,qb:()=>P,Uw:()=>ye});var r=a(84915),l=a(8187),n=a(67294),i=a(97132);const o="CATEGORY_TILE",s=({orientation:e,isPlaceholder:t})=>"horizontal"===e?"min-w-[200px] max-w-[200px] min-h-[80px]":(0,l.cn)("min-w-[135px] max-w-[135px]",t&&"min-h-[144px]"),c=({category:e,className:t,onClick:a,orientation:r="vertical",tabIndex:i=0,index:c})=>{const{imageUrl:d,name:u}=e,m=s({orientation:r}),h=(0,l.cn)("flex","horizontal"===r?"flex-row items-center justify-start":"flex-col items-center justify-start"),g=(0,l.cn)("h-16 w-16 bg-transparent","horizontal"===r?"mr-2":"mb-1");return n.createElement("button",{tabIndex:i,"data-testid":o,onClick:()=>{a&&a(e,c)},className:(0,l.Kh)("bg-pure-white cursor-pointer","p-2 hover:p-[7px] active:p-[7px]","border-light-grey border border-solid rounded \n                        hover:border-human-blue hover:border-2 \n                        active:border-dark-blue active:border-2   \n                        focus-visible:outline-dashed focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-human-blue",m,h,t)},n.createElement("img",{src:d,className:g,alt:""}),n.createElement("p",{className:(0,l.cn)("mb-0 text-body-sm text-human-blue","horizontal"===r?"text-left":"text-center")},u))},d="CATEGORY_TILE_PLACEHOLDER",u=e=>{const{className:t,orientation:a}=e,r=s({isPlaceholder:!0,orientation:a});return n.createElement("div",{"data-testid":d,className:(0,l.Kh)("animate-pulse bg-tech-white",r,t)})},m=(0,i.defineMessages)({carouselName:{id:"libs.searchUi.categoryTiles.carouselName"},leftNavArrow:{id:"libs.searchUi.categoryTiles.leftNavArrow"},rightNavArrow:{id:"libs.searchUi.categoryTiles.rightNavArrow"}}),h="CATEGORY_TILES",g={horizontal:15,vertical:6},p=({loading:e=!1,onSelectCategory:t,categories:a,orientation:o,screenSize:s,className:d})=>{const p=(0,i.useIntl)(),v=(e,a)=>{t(e,a)},b=g[o];return e?n.createElement("div",{className:(0,l.cn)("flex gap-3 bg-pure-white py-3",s.lessThan.medium&&"mx-4"),"data-testid":h},Array.from({length:b}).map((e,t)=>n.createElement(u,{key:t,orientation:o}))):a&&0!==a.length?n.createElement("div",{className:(0,l.Kh)("flex bg-pure-white py-3",d),"data-testid":h},n.createElement(r.pm,{ariaCarouselName:p.formatMessage(m.carouselName),gap:12,sliderClassName:"my-2",arrowProps:{ariaLabelLeft:p.formatMessage(m.leftNavArrow),ariaLabelRight:p.formatMessage(m.rightNavArrow)}},a.map((e,t)=>n.createElement(r.u8,{key:e.id,className:"self-stretch"},a=>n.createElement(c,{className:"h-full",tabIndex:a,category:e,onClick:v,orientation:o,index:t}))))):null};var v=a(61481),b=a(98103);const f=(0,i.defineMessages)({close:{id:"search.components.FacetDefinitionMobile.close"}}),y="facetDefinitionMobile",E=n.forwardRef(({facetDefinition:e,isMobileTooltipOpen:t,handleClose:a},r)=>{const o=(0,i.useIntl)();if(!e)return null;return n.createElement("div",{className:(0,l.cn)("relative box-border flex items-start justify-between rounded-lg border border-solid border-human-blue bg-pure-white p-4",t?"block":"hidden"),"data-testid":y,role:"tooltip"},n.createElement("div",{"aria-live":"polite",className:"text-body-sm font-normal"},e),n.createElement(v.h,{ref:r,className:"-mr-2.5 ml-1",onClick:a,size:"sm",variant:"primary-ghost",shape:"square",onKeyDown:e=>{["Enter"," ","Escape","Tab"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),null==a||a())},"aria-label":o.formatMessage(f.close)},n.createElement(b.U,null)))});var N=a(36032),C=a(26993);const A=({facet:e,filter:t})=>{switch(e.systemName){case C.fs.customerRating:return n.createElement("div",{"aria-hidden":"true"},n.createElement(N.sXf,{dataTestId:"customer-rating",rate:t.name,isHideRatingScore:!0,count:t.count,isHideRatingScoreAndReviewCount:!0}));case C.fs.enrichedCustomerRatings:{const e=t.name.slice(0,1);return function(e){const t=Number(e);return t&&t>0&&t<=5}(e)?n.createElement("div",{"aria-hidden":"true"},n.createElement(N.sXf,{dataTestId:"enriched-customer-rating",rate:e,isHideRatingScore:!0,count:t.count,isHideRatingScoreAndReviewCount:!0})):null}default:return null}};var T=a(10752),x=a.n(T);const S={placeholder:"sort-facet-filter-placeholder"};function P({className:e}){return n.createElement("div",{"data-testid":S.placeholder,className:(0,l.cn)(x().facetFilterPlaceholderContainer,e)},n.createElement("div",{className:x().facetFilterPlaceholder}),n.createElement("div",{className:x().facetFilterPlaceholder}),n.createElement("div",{className:x().facetFilterPlaceholder}))}const w=(0,i.defineMessages)({clearAll:{id:"libs.searchUi.pillList.clearAll"},removeFilter:{id:"libs.searchUi.pillList.removeFilter"}}),k="CLEAR_ALL_DATA_AUTOMATION",O="CLOSE_DATA_AUTOMATION",_="PILL_DATA_AUTOMATION",R="PILL_LIST_DATA_AUTOMATION",I=({pills:e=[],className:t="",onClear:a})=>{const r=(0,i.useIntl)();return 0===e.length?null:n.createElement("div",{"data-testid":R,className:t},n.createElement("ul",{className:"mb-0 flex flex-wrap items-center gap-4 p-0"},e.map((e,t)=>n.createElement("li",{"data-testid":_,className:"m-0 list-none p-0",key:`pill-${t}`},n.createElement("button",{onClick:e.onClose,"aria-label":r.formatMessage(w.removeFilter,{label:e.name}),"data-testid":O,className:(0,l.Kh)("group relative m-0 box-border inline-block h-8 list-none rounded-3xl border border-solid border-light-blue bg-[#F1F5FD] !text-body-sm font-normal text-human-blue focus-visible-outline-3 hover:border-human-blue hover:bg-human-blue hover:text-pure-white focus-visible:rounded-3xl active:border-dark-blue active:bg-dark-blue")},n.createElement("div",{className:(0,l.Kh)("mr-7 border-0 border-r-[1px] border-solid border-r-light-blue py-2 pl-3 pr-2 leading-none group-hover:border-r-human-blue group-active:border-r-dark-blue")},e.name),n.createElement(b.U,{size:20,className:"absolute right-[5px] top-1.5 bg-transparent group-hover:fill-pure-white"})))),e.length>=2&&n.createElement("li",{className:"m-0 flex list-none items-center p-0"},n.createElement("button",{className:(0,l.Kh)("bg-transparent text-body-sm font-medium underline focus-visible-outline-2 hover:no-underline active:no-underline"),"data-testid":k,onClick:a},n.createElement(i.FormattedMessage,Object.assign({},w.clearAll))))))},F=(0,i.defineMessages)({results:{id:"search.containers.searchPage.components.Header.results"}}),M=({className:e,total:t})=>{const a=(0,i.useIntl)(),r=(0,l.Kh)("m-0 pt-6 font-best-buy text-body-sm font-normal text-dark-grey",e);return t?n.createElement("h2",{"data-testid":"PRODUCT_LIST_RESULT_COUNT_DATA_AUTOMATION",className:r},n.createElement(i.FormattedMessage,Object.assign({values:{total:a.formatNumber(t)}},F.results))):null};var L=a(51447),D=a.n(L);const B="product-list-placeholder-body",U="product-list-placeholder-grid",H="product-list-placeholder-image",V="product-list-placeholder-list",$=({className:e="",count:t=8})=>n.createElement("div",{"data-testid":U,className:(0,l.Kh)("grid grid-cols-1 gap-4 sm:grid-cols-3 md:max-w-[var(--medium-screen)] lg:grid-cols-4",e)},Array.from({length:t}).map((e,t)=>n.createElement("div",{className:"grid grid-cols-[1fr_2fr] gap-4 sm:grid-cols-1",key:t},n.createElement("div",null,n.createElement(K,null)),n.createElement("div",null,n.createElement(j,null))))),z=({className:e,count:t=8,hasAddToCartButton:a=!1,hasTitle:r=!1,width:l=200})=>n.createElement("div",{className:e},r&&n.createElement(G,null),n.createElement("div",{"data-testid":V,className:"flex gap-4 overflow-x-scroll"},Array.from({length:t}).map((e,t)=>n.createElement("div",{key:t,className:"flex-shrink-0 flex-grow-0 basis-[200px]"},n.createElement(K,{className:"mb-4"}),n.createElement(j,{hasAddToCartButton:a}))))),G=()=>n.createElement("div",{className:D().titlePlaceholder}),K=({className:e=""})=>n.createElement("div",{"data-testid":H,className:(0,l.cn)(D().imagePlaceholder,e)}),j=({hasAddToCartButton:e=!1})=>n.createElement("div",{"data-testid":B},n.createElement("div",{className:D().namePlaceholderTop}),n.createElement("div",{className:D().namePlaceholderBottom}),n.createElement("div",{className:D().ratingPlaceholder}),n.createElement("div",{className:D().pricePlaceholder}),n.createElement("div",{className:D().onlineAvailabilityPlaceholder}),n.createElement("div",{className:D().storeAvailabilityPlaceholder}),e&&n.createElement("div",{className:D().addToCartPlaceholder}));var W=a(13412),Q=a(84524),q=a(53687);const Y="libs.searchUi.filterFlyoutPanel",J=(0,i.defineMessages)({bestMatch:{id:`${Y}.bestMatch`},filterPanelTitle:{id:`${Y}.filterPanelTitle`},filters:{id:`${Y}.filters`},highestRated:{id:`${Y}.highestRated`},noResultsMinMaxPriceFacetPt1:{id:`${Y}.noResultsMinMaxPriceFacetPt1`},noResultsMinMaxPriceFacetPt2:{id:`${Y}.noResultsMinMaxPriceFacetPt2`},priceHighToLow:{id:`${Y}.priceHighToLow`},priceLowToHigh:{id:`${Y}.priceLowToHigh`},showResultsButtonLabel:{id:`${Y}.showResultsButtonLabel`},sortAndFilter:{id:`${Y}.sortAndFilter`},sortBy:{id:`${Y}.sortBy`}}),Z="DATA_AUTOMATION_FILTER_FLYOUT_PANEL",X="DATA_AUTOMATION_SHEET_TRIGGER",ee=e=>{var t,a,o,s,c;const{isOpen:d,toggleFilterFlyoutPanel:u,onApply:m,onSort:h,onClear:g,onSelectCategory:p,stagingSearchState:v,facetsToExclude:b=[],legacyFacets:f,legacyCategories:y,selectFilter:E,applyPriceRangeQuery:A,selectedFilterCount:T}=e,x=(0,i.useIntl)(),S=x.locale.toLowerCase().slice(0,2),P=null===(t=v.searchResult)||void 0===t?void 0:t.facets,w=(null===(a=v.searchResult)||void 0===a?void 0:a.selectedFacets)||[],k=(null==v?void 0:v.searching)||!1,O=null===(o=null==v?void 0:v.searchResult)||void 0===o?void 0:o.total,_=(null==v?void 0:v.sort)||C.yO.bestMatch,R=(e,t)=>{h(t,{label:"Sort By",link:t})},F=[{key:C.yO.bestMatch,label:x.formatMessage(J.bestMatch)},{key:C.yO.priceLowToHigh,label:x.formatMessage(J.priceLowToHigh)},{key:C.yO.priceHighToLow,label:x.formatMessage(J.priceHighToLow)},{key:C.yO.highestRated,label:x.formatMessage(J.highestRated)}],M=null!==(c=null===(s=F.find(({key:e})=>e===_))||void 0===s?void 0:s.label)&&void 0!==c?c:"",L=e=>{!e&&Q.utils.customLink("Sort By Click")},D=()=>(0,C.Q)(w,"availability")?0:O,B=T?`(${T})`:"";return n.createElement(r.yo,{open:d,onOpenChange:u},n.createElement(r.aM,{"data-testid":X,className:(0,l.Kh)(r.Yw.button({size:"medium",variant:"outline"}),"mr-3 h-10 bg-pure-white",T>0&&"border-2 border-solid border-dark-blue text-dark-blue")},n.createElement("span",{className:(0,l.Kh)("flex items-center gap-1 py-[6px] text-body-sm font-medium",T>0&&"text-dark-blue")},n.createElement(N.wn$,{className:(0,l.Kh)("h-6 w-6 fill-current",T>0&&"text-dark-blue")}),n.createElement(i.FormattedMessage,Object.assign({},J.sortAndFilter,{values:{selectedFilterCount:B}})))),n.createElement(r.ue,{"data-testid":Z,side:"bottom"},n.createElement(r.Tu,{className:"p-4"},n.createElement(r.bC,{className:"flex items-center text-body-md"},n.createElement("div",null,n.createElement(i.FormattedMessage,Object.assign({},J.filterPanelTitle))))),n.createElement(r.Ei,{className:"px-0"},(()=>{if((v.minPrice||v.maxPrice)&&v.appliedRangeQuery&&!v.rangeQueryHasResults){const e="fr"===S?`${v.minPrice} à ${v.maxPrice} $`:`$${v.minPrice} - $${v.maxPrice}`;return n.createElement(N.jzv,null,n.createElement(i.FormattedMessage,Object.assign({},J.noResultsMinMaxPriceFacetPt1)),n.createElement("strong",null," ",e," "),n.createElement(i.FormattedMessage,Object.assign({},J.noResultsMinMaxPriceFacetPt2)))}return null})(),n.createElement(I,{className:"mt-2 pl-4 pr-3",pills:(()=>{if(!w||w.length<1)return[];const e=w.filter(e=>!b.includes(e.systemName));return(0,C.F)({facets:e,language:S,maxPrice:v.maxPrice,minPrice:v.minPrice,onRemovePricePill:()=>A("","",!0,!0,!0),onRemoveRegularPill:(e,t,a)=>E(e,t,a,void 0,void 0,!0),rangeQueryHasResults:v.rangeQueryHasResults})})(),onClear:g}),(()=>{const e=n.createElement("div",{className:"py-3"},n.createElement(r.UQ,{onClick:L,hasCloseButton:!0,title:n.createElement("div",{className:"text-body-sm text-pure-black"},n.createElement(i.FormattedMessage,Object.assign({},J.sortBy)),":"," ",n.createElement("span",{className:"ml-3 font-normal"},M)),content:n.createElement(N.FXm,{name:"sortOption",value:_,onChange:R,extraAttrs:{"data-testid":"sortOption"}},F.map(({key:e,label:t},a)=>n.createElement(N.EUY,{className:(0,l.cn)("pl-1",0===a&&"mt-2"),key:e,selectedValue:e,label:t}))),open:!1,hasBottomBorder:!0,hasTopBorder:!0,subExpandableButtonTextSize:"bodySm"})),t=(null==v?void 0:v.category)&&(null==v?void 0:v.searchResult)&&p?n.createElement(y,{language:S,category:v.category,loading:v.searching,selectedCategoryId:v.category.id,subCategories:v.category.subCategories,onCategoryClick:p,isClosedByDefault:!0}):null,a=P?n.createElement(f,{facets:P,facetsToExclude:b,loading:v.searching,isClosedByDefault:!0,query:v.query,isDesktop:!1,source:C.$N.SortFilterFacet}):null;return n.createElement("div",null,e,n.createElement("h2",{className:"mb-2 mt-5 pl-4 pr-3 text-body-md"},n.createElement(i.FormattedMessage,Object.assign({},J.filters))),t,a)})()),n.createElement(r.FF,{className:"p-4 [&>button]:w-full"},n.createElement(q.z,{type:"submit",variant:"primary-solid",disabled:k,onClick:()=>{Q.utils.customLink("Apply Click"),m()}},n.createElement(i.FormattedMessage,Object.assign({},J.showResultsButtonLabel)),D()>0&&n.createElement("span",{className:"ml-1"},"(",n.createElement(i.FormattedNumber,{value:D()}),")")))))};var te=a(26319),ae=a.n(te);const re=(0,i.defineMessages)({bestBuyOnlyToggle:{id:"components.searchHeader.bestBuyOnlyToggle"},inStockToggle:{id:"components.searchHeader.inStockToggle"},sortAndFilter:{id:"components.searchHeader.sortAndFilter"}});var le=function(e,t,a,r){return new(a||(a=Promise))(function(l,n){function i(e){try{s(r.next(e))}catch(e){n(e)}}function o(e){try{s(r.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(i,o)}s((r=r.apply(e,t||[])).next())})};const ne="availability-toggle",ie="best-buy-toggle",oe="search-header-toggles",se=({applyFacetChanges:e,facetsToExclude:t,isCategoryTilesEnabled:a,legacyFacetFilter:r,legacyFacets:o,legacyCategories:s,legacyCategoryTilesFeature:c,onAvailabilityToggle:d,onBestBuyOnlyToggle:u,onSort:m,onClear:h,onSelectCategory:g,resetStagingSearchState:p,searchState:v,updateStagingSearchState:b,selectFilter:f,applyPriceRangeQuery:y})=>{const E=(0,i.useIntl)(),A=v.searchResult,T=v.staging.searchResult,x=E.locale.toLowerCase().slice(0,2),S=(e=>{if(!e||!e.facets)return;const t=e.facets.find(e=>e.systemName===C.fs.soldAndShippedBy);if(!t||!t.filters)return;return t.filters.find(e=>e.name===C.Fl.bestBuy)})(A),P=!!(null==S?void 0:S.isSelected),[w,k]=n.useState(P),[O,_]=n.useState(!1);n.useEffect(()=>{k(P),p()},[A]);const R=n.useMemo(()=>{const e=(null==A?void 0:A.totalSelectedFilterCount)||0;if(e>0){const t=A.selectedFacets;if(!t||!t.length)return e;let a=0;return(0,C.Q)(t,C.fs.soldAndShippedBy)&&a++,v.brand&&(0,C.Q)(t,C.fs.brandName)&&a++,e-a}return e},[null==A?void 0:A.totalSelectedFilterCount,null==A?void 0:A.selectedFacets,null==v?void 0:v.brand]);if(!(null==A?void 0:A.total))return null;const I=(null==A?void 0:A.total)>0,F=I&&S&&n.createElement(N.ZDl,{"data-automation":ie,name:"bestbuy-only-toggle",label:E.formatMessage(re.bestBuyOnlyToggle),isToggleOn:!!w,handleAsyncChange:()=>{const e=w?{}:{label:C.Fl.soldAndShippedBy,link:C.Fl.bestBuy};u(C.fs.soldAndShippedBy,C.Fl.bestBuy,e)},className:"pb-0",labelPlacement:"right"}),M=I&&n.createElement(N.ZDl,{"data-automation":ne,name:"availability-toggle",label:E.formatMessage(re.inStockToggle),isToggleOn:(()=>{const e=null==T?void 0:T.facets;if(!e)return!1;const t=e.find(e=>e.systemName===C.fs.availability);if(!t)return!1;const a=C.Fl.availability[x];return!!t.filters.find(e=>e.name===a&&e.isSelected)})(),handleAsyncChange:(e,t)=>(e=>le(void 0,void 0,void 0,function*(){const t=C.Fl.availability[x],a={action:e?"add":"remove",label:(0,C.fm)(C.fs.availability),link:t},r=e?96:24;d(e,C.fs.availability,t,a,r)}))(!!t),className:"pb-0 pr-4",labelPlacement:"right"});return n.createElement("span",{role:"region","aria-label":E.formatMessage(re.sortAndFilter)},a&&n.createElement("div",{className:"-mx-4"},n.createElement(c,{className:"border-0 border-b border-solid border-tech-white sm:border-t"})),n.createElement("div",{className:"sticky top-0 z-10 -mx-4"},n.createElement("div",{className:(0,l.cn)("flex min-h-[60px] flex-col items-start border-0 border-b border-solid border-tech-white p-0",!a&&"sm:border-t")},n.createElement("div",{className:(0,l.cn)(ae().toggleAndSort,"bg-background-white")},n.createElement(ee,{applyPriceRangeQuery:y,facetsToExclude:t,legacyCategories:s,legacyFacets:o,onApply:()=>{e(),_(!O)},onClear:h,onSort:m,isOpen:O,selectFilter:f,onSelectCategory:g,stagingSearchState:v.staging,toggleFilterFlyoutPanel:()=>{O?p():(W.N8.customLink("Filter Click"),b()),_(!O)},selectedFilterCount:R}),n.createElement("div",{"data-testid":oe,className:"ml-1 flex items-center"},M,F)))))},ce=()=>n.createElement("div",{"data-testid":"SEARCH_HEADER_PLACEHOLDER_DATA_AUTOMATION",className:"-mx-4 h-10 bg-background-white"});var de=a(35894),ue=a(48604);const me=(0,i.defineMessages)({colour:{id:"libs.searchUi.simpleVariants.colour"},variantAdditionalOptions:{id:"libs.searchUi.simpleVariants.variantAdditionalOptions"},variantColour:{id:"libs.searchUi.simpleVariants.variantColour"}}),he="variant-thumbnail-link",ge=({onVariantSelected:e,variant:t,selectedVariantId:a,thumbnailBoxClass:o,thumbnailImageClass:s,areTilesInteractive:c})=>{const{legacyLink:d}=(0,ue.u5)(),u=(0,i.useIntl)(),m=a=>{a.preventDefault(),e(t)},h=a=>{"Enter"!==a.key&&"Spacebar"!==a.key&&" "!==a.key||(a.preventDefault(),e(t))},g=n.createElement("div",{key:t.id,className:(0,l.cn)("flex items-center justify-center rounded border border-solid text-center hover:border-2 hover:border-human-blue",c&&a===t.id?"border-2 border-dark-blue":"border-light-grey",o)},n.createElement(r.qN,{className:s,"data-automation":"variant-thumbnail",src:t.thumbnailImage?t.thumbnailImage:"",alt:t.swatch?u.formatMessage(me.variantColour,{colour:t.swatch}):"",disableLazyLoad:!0}));return c?n.createElement("button",{title:t.swatch,"data-automation":he,onClick:m,onKeyDown:h,"aria-label":t.swatch?u.formatMessage(me.variantColour,{colour:t.swatch}):void 0,className:"inline-block cursor-pointer bg-pure-white hover:border-2 hover:border-human-blue focus:border-2 focus:border-human-blue xs:focus-visible:outline-offset-2 sm:focus-visible:outline-offset-2"},g):n.createElement("div",{title:t.swatch},n.createElement(d,{to:"product",href:t.productUrl,params:[(0,C.pz)(t.productUrl),t.id],onClick:m,onKeyDown:h,className:"inline-block cursor-pointer xs:focus-visible:outline-offset-2 sm:focus-visible:outline-offset-2",extraAttrs:Object.assign(Object.assign({},t.swatch?{"aria-label":u.formatMessage(me.variantColour,{colour:t.swatch})}:void 0),{"data-automation":he})},g))};var pe=a(28581),ve=a.n(pe);const be="simple-variants-swatch-placeholder",fe=()=>n.createElement("div",{className:"mx-4 my-0 sm:m-0","data-testid":be},n.createElement("div",{className:ve().variantHeaderPlaceholder}),n.createElement("div",{className:"mb-5 flex"},n.createElement("div",{className:ve().variantSwatchesPlaceholder}),n.createElement("div",{className:ve().variantSwatchesPlaceholder}),n.createElement("div",{className:ve().variantSwatchesPlaceholder}))),ye=["selectSheetVariant","selectSingleVariant","viewMoreVariants"],Ee="simple-variants",Ne="variant-additional-options",Ce=({areTilesInteractive:e,isTablet:t,isVariantsLoading:a,onVariantSelected:o,productVariants:s,selectedVariantSku:c,selectedVariantProductCard:d})=>{const{legacyLink:u}=(0,ue.u5)(),m=(0,i.useIntl)(),[h,g]=n.useState(!1),[p,v]=n.useState(!1),b=n.useRef(null),[f,y]=n.useState(4),{thumbnailBoxSize:E,thumbnailBoxClass:N,thumbnailGapSize:A,thumbnailGapClass:T,thumbnailImageClass:x}=(({areTilesInteractive:e,isTablet:t})=>e?t?{thumbnailBoxClass:"w-10 h-10",thumbnailBoxSize:40,thumbnailGapClass:"gap-1",thumbnailGapSize:4,thumbnailImageClass:"w-8 h-8"}:{thumbnailBoxClass:"w-12 h-12",thumbnailBoxSize:48,thumbnailGapClass:"gap-1",thumbnailGapSize:4,thumbnailImageClass:"w-10 h-10"}:{thumbnailBoxClass:"w-8 h-8",thumbnailBoxSize:32,thumbnailGapClass:"gap-1",thumbnailGapSize:4,thumbnailImageClass:"w-6 h-6"})({areTilesInteractive:e,isTablet:t});n.useEffect(()=>{const t=()=>{const e=b.current;if(!e)return;const t=e.offsetWidth,a=E+A,r=Math.max(Math.floor((t-E)/a),0),l=Math.min(r,4);y(l)};if(!e)return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e,E,A]);const S=0===s.length,P=s.length>f?s.slice(0,f):s,w=P.some(e=>e.id===c),k={"aria-label":m.formatMessage(me.variantAdditionalOptions,{count:Math.abs(s.length-f)}),"data-automation":Ne};return a?n.createElement(fe,null):S?null:n.createElement(r.yo,{open:h,onOpenChange:e=>{e&&!p&&((0,C.Uz)({productName:s[0].name,sku:s[0].id}),v(!0)),g(e)}},n.createElement("div",{"data-testid":Ee,className:"my-1 flex w-full items-center sm:mb-2.5",ref:b},n.createElement("div",{className:(0,l.cn)("flex",T)},null==P?void 0:P.map(t=>n.createElement(ge,{key:t.id,onVariantSelected:e=>{o({interactionType:"selectSingleVariant",variantSku:e.id})},variant:t,selectedVariantId:c,thumbnailBoxClass:N,thumbnailImageClass:x,areTilesInteractive:e})),s.length>f&&(e?n.createElement(n.Fragment,null,n.createElement(r.aM,Object.assign({},k,{className:(0,l.cn)("flex cursor-pointer items-center justify-center rounded border border-solid border-light-grey bg-pure-white text-micro-lg font-medium hover:border-2 hover:border-human-blue xs:mr-1",w?"":"focus:border-2 focus:border-dark-blue",N)}),"+",Math.abs(s.length-f)),n.createElement(de.xC,{className:"xs:max-h-[85vh]",label:m.formatMessage(me.colour),onVariantSelected:e=>{o({interactionType:"selectSheetVariant",variantSku:e.sku}),g(!1)},pageSku:c,shouldLinkToPdp:!1,shouldShowPrice:!1,variants:s.map(e=>({label:(0,C.fm)(m.formatMessage(me.colour)),name:e.name,sku:e.id,value:e.swatch,variantImageUrl:e.thumbnailImage})),topContent:d})):n.createElement(u,{to:"product",href:s[0].productUrl,className:(0,l.cn)("flex cursor-pointer items-center justify-center rounded border border-solid border-light-grey bg-pure-white text-micro-lg font-medium hover:border-2 hover:border-human-blue",N),onClick:e=>{e.preventDefault(),o({interactionType:"viewMoreVariants",variantSku:s[0].id})},extraAttrs:k},"+",n.createElement(i.FormattedNumber,{value:s.length-f}))))))}},26993:(e,t,a)=>{"use strict";a.d(t,{$N:()=>m,VL:()=>l,yO:()=>n,tk:()=>x,PN:()=>r,l1:()=>i,OR:()=>o,fm:()=>R,Fl:()=>u,fs:()=>d,uJ:()=>w,F8:()=>O,Bi:()=>P,b7:()=>D,Pc:()=>k,F:()=>I,pz:()=>B,Q:()=>M,gD:()=>_,ol:()=>p,d7:()=>g,pp:()=>v,mu:()=>y,$s:()=>f,s6:()=>N,Uz:()=>C,J3:()=>E,ZI:()=>b,Jd:()=>U});const r="search-results-header";var l,n,i,o,s;!function(e){e.En="On Sale",e.Fr="En solde"}(l||(l={})),function(e){e.bestMatch="bestMatch",e.highestRated="highestRated",e.priceHighToLow="priceHighToLow",e.priceLowToHigh="priceLowToHigh"}(n||(n={})),function(e){e.Brands="Brands",e.Marque="Marque",e.Price="Price",e.Prix="Prix",e.SoldAndShippedBy="Sold & Shipped By",e.VenduEtExpediePar="Vendu et expédié par",e.CurrentOffers="Current Offers",e.OffresCourantes="Offres courantes",e.CustomerRating="Customer Rating",e.CoteDevaluationDeLaClientele="Cote d'évaluation de la clientèle"}(i||(i={})),function(e){e.Query="Query",e.Category="Category"}(o||(o={})),function(e){e.pdpAddToCartWithoutSearch="PDP: Added to cart without search",e.plpAddToCartWithoutSearch="PLP: Added to cart without search",e.pdpAddToCartAfterSearch="PDP: Added to cart after search",e.plpAddToCartAfterSearch="PLP: Added to cart after search",e.pdpViewedPdpWithoutSearch="PDP: Viewed PDP without search",e.pdpStartedActivationAfterSearch="PDP: Started an activation after search",e.pdpStartedActivationWithoutSearch="PDP: Started an activation without search",e.plpClickedPlpAfterSearch="PLP: Product clicked after search"}(s||(s={}));const c="algolia_purchase_event_tracking",d={availability:"availability",brandName:"brandName",categories:"category",currentOffer:"currentoffers0enrchstring",currentPrice:"currentPrice",customerRating:"averageoveralluserrating0enrchrange",enrichedCustomerRatings:"customerratinggroup0enrchstring",priceFacet:"price",soldAndShippedBy:"soldandshippedby0enrchstring",status:"status0enrchstring"},u={availability:{en:"In Stock",fr:"En stock"},availableNearbyStore:{en:"Pick Up at Nearby Stores",fr:"Ramassage dans un magasin à proximité"},availableToShip:{en:"Get it Shipped",fr:"Expédition à domicile"},bestBuy:"Best Buy",currentOffer:"Current Offers",price:{en:"Price",fr:"Prix"},soldAndShippedBy:"Sold & Shipped By"};var m;!function(e){e.QuickFacetValue="quick-facet-value",e.QuickFacetDropdown="quick-facet-dropdown",e.SortFilterFacet="sort-filter-facet",e.CategoryTile="category-tile"}(m||(m={}));var h=a(13412);const g=e=>{const{indexName:t,location:a,productData:r}=e;(0,h.WI)({event:h.U3.ALGOLIA_ADDED_TO_CART,payload:{eventName:"pdp"===a?s.pdpAddToCartWithoutSearch:s.plpAddToCartWithoutSearch,indexName:t,productData:r}})},p=e=>{const{indexName:t,queryId:a,productData:r,location:l}=e;(0,h.WI)({event:h.U3.ALGOLIA_ADDED_TO_CART_AFTER_SEARCH,payload:{eventName:"pdp"===l?s.pdpAddToCartAfterSearch:s.plpAddToCartAfterSearch,indexName:t,productData:r,queryId:a}})},v=e=>{const{indexName:t,queryId:a,sku:r,position:l}=e;(0,h.WI)({event:h.U3.ALGOLIA_CLICKED_ITEM_AFTER_SEARCH,payload:{eventName:s.plpClickedPlpAfterSearch,indexName:t,position:l,queryId:a,sku:r}})},b=e=>{const{indexName:t,sku:a}=e;(0,h.WI)({event:h.U3.ALGOLIA_VIEWED_ITEM,payload:{eventName:s.pdpViewedPdpWithoutSearch,indexName:t,sku:a}})},f=e=>{const{indexName:t,productData:a}=e;(0,h.WI)({event:h.U3.ALGOLIA_ADDED_TO_CART,payload:{eventName:s.pdpStartedActivationWithoutSearch,indexName:t,productData:a}})},y=e=>{const{indexName:t,queryId:a,productData:r}=e;(0,h.WI)({event:h.U3.ALGOLIA_ADDED_TO_CART_AFTER_SEARCH,payload:{eventName:s.pdpStartedActivationAfterSearch,indexName:t,productData:r,queryId:a}})},E=({colour:e,productName:t,sku:a})=>{(0,h.WI)({colour:e,event:h.U3.VIEW_VARIANT_SHEET_COLOUR,productName:t,sku:a})},N=({colour:e,productName:t,sku:a})=>{(0,h.WI)({colour:e,event:h.U3.VIEW_COLOUR_VARIANT,productName:t,sku:a})},C=({productName:e,sku:t})=>{(0,h.WI)({event:h.U3.VIEW_MORE_COLOURS,productName:e,sku:t})};var A=a(36032),T=a(8187);const x={getValue:function(){const e=A.lew.getCookie(c);if(e)try{return JSON.parse(e.value)}catch(e){return null}return null},remove:function(){const e=(0,T.Zg)();e&&A.lew.removeCookie(c,e)},setValue:function(e){const t=JSON.stringify(e),a=new A.VjB(c,t),r=(0,T.Zg)();if(!r)throw new Error("Could not get root domain for client cookie.");a.domain=r,A.lew.setCookie(a)}};var S;!function(e){e.sessionToken="s_token",e.stagingSessionToken="s_token_stg",e.persistedToken="p_token"}(S||(S={}));const P=e=>{const t=e.count||0,a="en"===e.language?"results":"résultats";let r=e.filterName;return t>0&&(r+=`, ${t} ${a}`),r},w=(e,t)=>e&&t?`${e}_${t}`:"",k=()=>{var e,t;return null!==(t=null===(e=A.lew.getCookie(S.persistedToken))||void 0===e?void 0:e.value)&&void 0!==t?t:""},O=()=>{const e=null!==(r=(null===(t=A.lew.getCookie(S.sessionToken))||void 0===t?void 0:t.value)||(null===(a=A.lew.getCookie(S.stagingSessionToken))||void 0===a?void 0:a.value))&&void 0!==r?r:"";var t,a,r;let l=k();if((()=>{const e=A.lew.getCookie("OptanonConsent");return!!e&&decodeURIComponent(e.value).indexOf(",C0003:1")>-1})()){l||(l=e+(e=>{if(e<=0)return null;const t=new Array(e);for(let a=0;a<e;a++){const e=Math.floor(36*Math.random())+1;e<=26?t.push(String.fromCharCode(e+96)):t.push((e-27).toString())}return t.join("")})(15));const t=new A.VjB("p_token",l);return(new Date).setDate((new Date).getDate()+400),A.lew.setCookie(t),l}return e},_=(e,t)=>{const a=["brand","collection","search"];return a.includes(e)&&a.includes(t)},R=e=>e.charAt(0).toUpperCase()+e.slice(1),I=({facets:e,facetsToExclude:t,language:a,minPrice:r="",maxPrice:l="",rangeQueryHasResults:n,onRemoveRegularPill:i,onRemovePricePill:o})=>{if(!e)return[];const s=[];return e.forEach(e=>{t&&t.includes(e.systemName)||((e.filters||[]).forEach(t=>{if(t.isSelected){const{name:r}=t,{systemName:l,name:n}=e,o={action:"remove",facetName:n,facetType:"pill",link:r};s.push({name:"Best Buy"===r?L(a):r,onClose:()=>i(l,r,o)})}}),e.name===u.price[a]&&(r||l)&&n&&s.push(F({lang:a,maxPrice:l,minPrice:r,onClose:o})))}),s},F=({lang:e,minPrice:t,maxPrice:a,onClose:r})=>{let l=`$${t||"0"} - ${a?"$"+a:"Any"}`;return"fr"===e&&(l=`${t||"0"}${a?" à "+a+" $":" $ ou plus"}`),{name:l,onClose:r}},M=(e,t)=>e.some(e=>e.systemName===t&&!!e.selectedFilterCount),L=e=>"en"===e?"Best Buy Only":"Best Buy Seulement",D=e=>e?96:24,B=e=>{if(!e)return"";const t=e.split("/");return t.length<3?"":t[t.length-2]},U=e=>{if(!e)return!1;const{id:t,name:a,productUrl:r,thumbnailImage:l}=e;return!!(t&&a&&r&&l)};a(67294).createContext(void 0)}}]);