"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1223],{34755:(e,t,s)=>{s.d(t,{Z:()=>n,y:()=>i});var a=s(99458);const i={getItem:e=>{try{const t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return(0,a.Z)().error(new Error("Error getting item from the sessionStorage"+e)),null}},removeItem:e=>{try{(void 0).getItem(e)&&window.sessionStorage.removeItem(e)}catch(e){return void(0,a.Z)().error(new Error("Error removing item from the sessionStorage"+e))}},setItem:(e,t)=>{try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){return void(0,a.Z)().error(new Error("Error setting item into the sessionStorage"+e))}}},n=i},6040:(e,t,s)=>{s.d(t,{v:()=>r});var a=s(99321),i=s(8575),n=function(e,t,s,a){return new(s||(s=Promise))(function(i,n){function r(e){try{o(a.next(e))}catch(e){n(e)}}function c(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,c)}o((a=a.apply(e,t||[])).next())})};class r{constructor(e){this.baseUrl=e}getStoreMessages(){return n(this,void 0,void 0,function*(){const e=i.format(i.parse(`${this.baseUrl}/all.json`));return(yield(0,a.Z)(e)).json()})}}},8436:(e,t,s)=>{s.d(t,{g3:()=>a.g3,Nk:()=>a.Nk,jI:()=>D.jI,PG:()=>r.P,YU:()=>L.Y,SJ:()=>D.SJ,KE:()=>D.KE,Vy:()=>O,Uh:()=>D.Uh,Of:()=>D.Of,aU:()=>F.aU,Zt:()=>T,P6:()=>C,IP:()=>D.IP,mu:()=>D.mu,oy:()=>f.oy,Xe:()=>f.Xe,zL:()=>A,QH:()=>f.QH,u:()=>f.u,EY:()=>n.E,s_:()=>f.s_,H8:()=>f.H8,B4:()=>f.B4,Iw:()=>f.Iw,ob:()=>f.ob,HF:()=>f.HF,EK:()=>f.EK,_y:()=>Q._,iz:()=>y.i,fw:()=>f.fw,de:()=>f.de,UI:()=>i.U,QE:()=>w.Q,Vh:()=>S.V,L3:()=>D.L3,Xb:()=>v.X,y7:()=>j.y});var a=s(20755),i=s(61152),n=(s(31725),s(89722)),r=s(63424),c=s(8575),o=s(34620),g=s(59174),l=s(26993),u=s(77277),d=s(99321);const p={allCategoriesFilterName:"All Categories",categoryFacetName:"Categories",availabilityFacetName:"Shipping and Pickup",availableStockFilter:"In Stock",nearbyStoreFilterName:"Pick Up at Nearby Stores",availableToShipFilter:"Get it Shipped"},b={allCategoriesFilterName:"Toutes Catégories",categoryFacetName:"Catégories",availabilityFacetName:"Expédition et ramassage",availableStockFilter:"En stock",nearbyStoreFilterName:"Ramassage dans un magasin à proximité",availableToShipFilter:"Expédition à domicile"};var h=s(81847),m=function(e,t,s,a){return new(s||(s=Promise))(function(i,n){function r(e){try{o(a.next(e))}catch(e){n(e)}}function c(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,c)}o((a=a.apply(e,t||[])).next())})};class O{constructor(e,t,s,a){this.baseUrl=e,this.locale=t,this.regionCode=s,this.isKiosk=a,this.messages=p,this.locale.startsWith("fr")&&(this.messages=b)}search(e){var t;return m(this,void 0,void 0,function*(){if(!("*"!==e.query&&e.query||e.path||e.categoryId||e.collectionId||e.brandName))return{facets:[],paths:[],products:[],total:0,totalPages:0};const s=[],a=c.parse(this.baseUrl),i=e.path?decodeURIComponent(e.path.replace(/\+/g,"%20")):"",n=(0,l.Pc)();a.query=Object.assign(Object.assign(Object.assign(Object.assign({categoryid:e.categoryId,currentRegion:null!==(t=e.regionCode)&&void 0!==t?t:this.regionCode,include:"facets, redirects",lang:this.locale,page:e.page,pageSize:e.pageSize,path:i,query:e.query,exp:e.exp,token:e.token,contextId:e.collectionId?e.collectionId:""},e.isPLP?{isPLP:!0}:void 0),e.isDistinct?{isDistinct:!0}:void 0),n?{hasConsent:!0}:void 0),this.getSortQuery(e.sort));const r=c.format(a),g=yield(0,d.Z)(r,o.zi.SearchApi),p=yield g.json();for(const e of p.products){const t=this.getGroupedItems(e),a={customerRating:e.customerRating,customerRatingCount:e.customerRatingCount,ehf:e.ehf,hideSaving:e.hideSavings,isMarketplace:e.isMarketplace,name:e.name,productUrl:e.productUrl,regularPrice:e.regularPrice,saleEndDate:e.saleEndDate,salePrice:e.salePrice,sku:e.sku,thumbnailImage:e.thumbnailImage,categoryIds:e.categoryIds,termFrequency:e.termFrequency,seller:e.seller,swatch:e.swatch,preorderReleaseDate:e.preorderReleaseDate,groupedItems:t};s.push(new u.hh(a))}const b=[...p.facets||[]],m=(p.selectedFacets||[]).map(e=>Object.assign(Object.assign({},e),{selectedFilterCount:e.filters.filter(e=>e.isSelected).length}));let O=[...b,...m];O=O.filter(e=>e.filters&&e.filters.length),O.sort((e,t)=>e.order-t.order),O=this.insertAvailabilityFacet(O,p);const j=O.find(e=>"category"===e.systemName);e.categoryId||(O=[this.buildCategoryFacet(j),...O.filter(e=>"category"!==e.systemName)]),e.collectionId&&this.appendParentCategories(O,p);const y=O.map(e=>e.selectedFilterCount||0).reduce((e,t)=>e+t,0);let v=p.redirectUrl;if(this.isKiosk&&v)try{const e=new URL(v,window.location.origin);e.host=window.location.host,e.protocol=window.location.protocol,v=e.toString()}catch(e){console.error("Failed to parse redirect URL:",e)}let f={facets:O,paths:p.paths,products:s,redirectUrl:v,total:p.total,totalPages:p.totalPages,totalSelectedFilterCount:y,pageSize:p.pageSize,quickRefinement:p.quickRefinement,selectedFacets:m,breadcrumbs:p.breadcrumb};return p.indexName&&p.queryId&&(f.algolia={indexName:p.indexName,queryId:p.queryId,abTestGroupId:1==p.abTestGroupId?"A":"B",abTestId:(p.abTestId||"").toString()}),f=(0,h.Ri)(f,this.locale,i),f})}getGroupedItems(e){const t=e.groupedItems;if(!Array.isArray(t))return[];let s=t.filter(l.Jd);if(s.length){const{sku:t,highResImage:a="",name:i,productUrl:n,thumbnailImage:r,customerRating:c,customerRatingCount:o,ehf:g,regularPrice:l,salePrice:u,swatch:d=""}=e;return[{id:t,highResImage:a,name:i,productUrl:n,thumbnailImage:r,customerRating:c,customerRatingCount:o,ehf:g,regularPrice:l,salePrice:u,swatch:d},...s]}return s}getSortQuery(e){switch(e){case l.yO.highestRated:return{sortBy:"rating",sortDir:"desc"};case l.yO.priceHighToLow:return{sortBy:"price",sortDir:"desc"};case l.yO.priceLowToHigh:return{sortBy:"price",sortDir:"asc"};default:return{sortBy:"relevance",sortDir:"desc"}}}buildCategoryFacet(e){return e||(e={filters:[],isMultiSelect:!1,name:this.messages.categoryFacetName,order:0,selectedFilterCount:0,systemName:"category"}),e}appendParentCategories(e,t){if(!t.breadcrumb||!t.breadcrumb.length||!e.length)return;const s=t.breadcrumb.filter(({CategoryId:e})=>""!==e).map(({CategoryName:e})=>encodeURIComponent(e).replace(/%20/g,"+")),a=e.find(({systemName:e})=>e===g.fs.categories);a&&(a.filters=a.filters.map(e=>{const t=encodeURIComponent(";").toLowerCase(),a=encodeURIComponent("category:").toLowerCase();let i=e.path.split(t);i=i.filter(e=>!s.some(t=>t.toLowerCase().indexOf(e.toLowerCase().replace(a,""))>-1));let n=i.join(t);return n=s.length?t+n:n,e.path=s.join(t+a)+n,e.path=s.length?a+e.path:e.path,e}))}insertAvailabilityFacet(e,t){const s=(null==t?void 0:t.paths)||[],a={isSelected:!1,name:this.messages.availableStockFilter,path:s.length>0?s[s.length-1].selectPath:"",hidden:!0},i={isSelected:!1,name:this.messages.nearbyStoreFilterName,path:s.length>0?s[s.length-1].selectPath:""},n={isSelected:!1,name:this.messages.availableToShipFilter,path:s.length>0?s[s.length-1].selectPath:""};return[{name:this.messages.availabilityFacetName,systemName:g.fs.availability,filters:[n,i,a],order:100,isMultiSelect:!0},...e]}}var j=s(34755),y=s(62897),v=(s(87186),s(1742)),f=s(62150),S=s(94975),L=s(53600),w=s(14642),R=function(e,t,s,a){return new(s||(s=Promise))(function(i,n){function r(e){try{o(a.next(e))}catch(e){n(e)}}function c(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,c)}o((a=a.apply(e,t||[])).next())})};class C{constructor(e,t){this.baseUrl=e,this.locale=t}getStoresUsingProximityAndPostalCode(e,t){return R(this,void 0,void 0,function*(){try{const s=c.parse(this.baseUrl);s.query={lang:this.locale,postalCode:e,proximity:t};const a=c.format(s),i=yield(0,d.Z)(a,o.zi.LocationApi);return(yield i.json()).locations}catch(e){return Promise.reject(e)}})}getStoreLocations(e){return R(this,void 0,void 0,function*(){const t=yield this.getStoreLocationsFromServer(e);return this.transformLocationToPickupStores(t)})}getNonKioskLocations(e){return R(this,void 0,void 0,function*(){const t=yield this.getStoreLocationsFromServer(e);return this.transformLocationToPickupStores(t.filter(({type:e})=>!e.includes("ExpressKiosk")))})}getOnlyBigBoxLocations(e){return R(this,void 0,void 0,function*(){const t=yield this.getStoreLocationsFromServer(e);return this.transformLocationToPickupStores(t.filter(({type:e})=>e.includes("BigBox")))})}getStoreLocationsFromServer(e){return R(this,void 0,void 0,function*(){const t=c.parse(this.baseUrl);t.query={lang:this.locale,postalCode:e};const s=c.format(t),a=yield(0,d.Z)(s,o.zi.LocationApi),i=yield a.json();return void 0===i.locations||0===i.locations.length?[]:i.locations})}transformLocationToPickupStores(e){return e.map(e=>({address:e.address1,city:e.city,region:e.region,postalCode:e.postalCode,phoneNumber:e.phone1,locationId:e.locationId,hasInventory:!1,name:e.name,hours:e.hours,distance:e.distance}))}}var F=s(40034),P=s(99458),I=function(e,t,s,a){return new(s||(s=Promise))(function(i,n){function r(e){try{o(a.next(e))}catch(e){n(e)}}function c(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,c)}o((a=a.apply(e,t||[])).next())})};class x{constructor(e,t,s,a){const i=c.parse(e+t);i.query={lang:s},a&&(i.query.regionCode=a),this.url=c.format(i).toLowerCase()}getResourceNavigation(e,t,s=3e3){let a,i=!1;return new Promise((n,r)=>I(this,void 0,void 0,function*(){const c=setTimeout(()=>{i=!0,(0,P.Z)().warn(`${this.url} timed out`),n(e)},s);try{a=yield(0,d.Z)(this.url,t)}catch(e){return void r(e)}if(!i)try{e=yield a.json(),n(e)}catch(e){}finally{clearTimeout(c)}n(e)}))}}var N=function(e,t,s,a){return new(s||(s=Promise))(function(i,n){function r(e){try{o(a.next(e))}catch(e){n(e)}}function c(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,c)}o((a=a.apply(e,t||[])).next())})};const E=class extends x{constructor(e,t,s,a){super(e,`brands/${s}/store-pages/${a}/navigation`,t,null)}getNavigation(){return N(this,void 0,void 0,function*(){return yield this.getResourceNavigation({},o.zi.CollectionContentApi)})}};function A(e,t,...s){const a=s[1];return new E(e,t,"0",a)}var U=s(51164),k=function(e,t,s,a){return new(s||(s=Promise))(function(i,n){function r(e){try{o(a.next(e))}catch(e){n(e)}}function c(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,c)}o((a=a.apply(e,t||[])).next())})};class T{getSponsoredProducts(e){return k(this,void 0,void 0,function*(){const t=this.buildUrl(e);try{const e=yield(0,d.Z)(t,o.zi.SponsoredProductApi);return yield e.json()}catch(e){return(0,P.Z)().error(new Error("Error getting sponsored products. Error is: "+e)),null}})}buildUrl(e){const{url:t,criteoPartnerId:s,pageId:a,retailerVisitorId:i,customerId:n,eventType:r,environment:c,keywords:o,pageNumber:g,category:l,filters:u=[],item:d,price:p,availability:b,recommendedSkus:h,adEnvironment:m,buybox:O,isOptedInTracking:j,placementId:y}=e,v=-1===(null==t?void 0:t.indexOf("?"))?"?":"&",f={"criteo-partner-id":s,environment:m,"page-id":a,"event-type":r,"retailer-visitor-id":i,"customer-id":n||"",filters:this.buildFilters(u),"page-number":g,keywords:o,category:a!==U.IT.eventMarketing?l:"eventspage",item:d,price:p,availability:b,"item-whitelist":this.buildSkuListForRecommendationEngine(h),block:j?"0":"1",nolog:"production"!==c?"1":"0",buybox:O,"placement-id":y};return`${t}${v}${Object.keys(f).reduce((e,t)=>f[t]||"customer-id"===t?[...e,`${t}=${f[t]}`]:[...e],[]).join("&")}`}buildFilters(e){return e.map(({filterName:e,operator:t,value:s})=>{if(s){return`(${e},${t},${s.join(",")})`}}).filter(Boolean).join(",")}buildSkuListForRecommendationEngine(e){if(!e||(null==e?void 0:e.length)<1||e.filter(String).length<1)return;const t=encodeURIComponent("|");return null==e?void 0:e.join(t)}}s(6040);var Q=s(26340),D=s(49951)},27907:(e,t,s)=>{s.d(t,{wr:()=>be.wr,bD:()=>be.bD,mx:()=>pe,jc:()=>be.jc,EN:()=>be.EN,h0:()=>ee,Gt:()=>be.Gt,Dw:()=>be.Dw,eN:()=>be.eN,UQ:()=>le,D7:()=>be.D7,av:()=>Se,Ms:()=>Ce,cD:()=>A,_S:()=>_,R0:()=>o,qc:()=>Oe,R_:()=>B,uY:()=>Q,P3:()=>h,gs:()=>j,t6:()=>n,gn:()=>$,a9:()=>de,FE:()=>be.FE,mi:()=>be.mi,qJ:()=>X,uM:()=>ce,QW:()=>E,Nd:()=>u,yC:()=>m,gx:()=>be.gx,uf:()=>z,yp:()=>se,VQ:()=>Ie,uk:()=>ne,EA:()=>S});var a=s(55763);const i={message:"",open:!1},n=(e=i,t)=>{switch(t.type){case a.dk.notify:return{action:t.action,autoHideDuration:t.autoHideDuration,message:t.message,open:!0};case a.dk.close:return{action:null,message:e.message,open:!1};default:return e}};var r=s(33311);const c={error:null,shouldDisplay:!1,statusCode:null},o=(e=c,t)=>{switch(t.type){case a.ax.error:return Object.assign({},e,{error:t.error,shouldDisplay:t.shouldDisplay,statusCode:t.statusCode});case r.nk:return c;default:return e}};var g=s(79318);const l={locationBeforeTransitions:void 0},u=(e=l,t)=>{const s=(0,r.mg)(e,t);switch(t.type){case a.at.locationChange:{const a=t.payload.pathname;return Object.assign(Object.assign({},s),{pageKey:a&&g.Z.getKeyByPath(a.substring(1,3),a),previousLocationBeforeTransitions:e.locationBeforeTransitions})}case a.at.setPageKey:return Object.assign(Object.assign({},s),{pageKey:t.pageKey});case a.at.setAltLangHrefs:return Object.assign(Object.assign({},s),{altLangUrl:t.altLangUrl,curLangUrl:t.curLangUrl});default:return e}};var d=s(92320),p=s(26993);var b=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(s[a[i]]=e[a[i]])}return s};const h={availabilities:{},brand:void 0,category:void 0,collection:void 0,recommendations:{topSellers:[]},loadingMore:!1,page:1,path:"",query:"",searchResult:{facets:[],paths:[],products:[],total:0,totalPages:0},searching:!1,sort:p.yO.bestMatch,wasFacetFilterSelected:!1,isSponsoredProductsLoaded:!1,minPrice:"",maxPrice:"",appliedRangeQuery:!1,isRpuToggled:!1,expValue:"",staging:{},criteoProducts:[],rangeQueryHasResults:!1,pathBeforeRangeQuery:""},m=(e=h,t)=>{var s,a,i,n,r,c;switch(t.type){case d.mt.changeQuery:{const s={brand:h.brand,category:h.category,collection:h.collection,path:t.path||h.path,query:t.query,searching:!0,sort:h.sort,searchResult:h.searchResult,recommendations:h.recommendations};return Object.assign({},e,s,{staging:s})}case d.mt.loadMore:return Object.assign({},e,{loadingMore:!0});case d.mt.resetWasFacetFilterSelected:return Object.assign(Object.assign({},e),{minPrice:"",maxPrice:"",appliedRangeQuery:!1,wasFacetFilterSelected:!1,isRpuToggled:!1,rangeQueryHasResults:!1});case d.mt.selectFilterRpu:case d.mt.selectFilter:{const s=((e,t)=>{var s,a,i,n,r,c;const o=t.isMobile?e.staging:e,g=null===(s=o.searchResult)||void 0===s?void 0:s.facets.find(e=>e.systemName===t.facetSystemName);if(!g)return null;let l=g.filters.find(e=>e.name===t.filterName);if(!l){if(!(null===(a=t.payload)||void 0===a?void 0:a.path)||!t.filterName)return null;l={isSelected:!1,name:t.filterName,path:null!==(n=null===(i=t.payload)||void 0===i?void 0:i.path)&&void 0!==n?n:""}}const u=[...g.filters];if(!g.isMultiSelect){if(l.isSelected)return null;const e=u.findIndex(e=>e.isSelected);u.splice(e,1,Object.assign({},u[e],{isSelected:!1}))}const d=u.indexOf(l);u.splice(d,1,Object.assign({},l,{isSelected:!l.isSelected}));const p=[...null!==(c=null===(r=o.searchResult)||void 0===r?void 0:r.facets)&&void 0!==c?c:[]],b=p.indexOf(g);p.splice(b,1,Object.assign({},g,{filters:u}));const h={path:l.path,searchResult:Object.assign({},o.searchResult,{facets:p}),searching:!0,wasFacetFilterSelected:!0};return t.isMobile?Object.assign({},e,{staging:Object.assign(Object.assign(Object.assign({},e.staging),h),{availabilities:e.availabilities})}):Object.assign({},e,h,{staging:Object.assign(Object.assign(Object.assign({},e.staging),h),{availabilities:e.availabilities})})})(e,t);return s||e}case d.mt.removeAllFilters:return Object.assign(Object.assign({},e),{path:"",searchResult:Object.assign(Object.assign({},e.searchResult),{selectedFacets:[]}),minPrice:"",maxPrice:"",appliedRangeQuery:!1,searching:!0,isRpuToggled:!1,rangeQueryHasResults:!1});case d.mt.removeAllFiltersMobile:return Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{path:e.brand?`brandName:${e.brand.name.toUpperCase()}`:"",searchResult:Object.assign(Object.assign({},null===(s=e.staging)||void 0===s?void 0:s.searchResult),{selectedFacets:[]}),minPrice:"",maxPrice:"",appliedRangeQuery:!1,searching:!0,isRpuToggled:!1,rangeQueryHasResults:!1})});case d.mt.sort:return Object.assign({},e,{searching:!0,sort:t.sort});case d.mt.stagingSort:return Object.assign({},e,{staging:Object.assign(Object.assign({},e.staging),{searching:!0,sort:t.sort})});case d.mt.updateSearchResults:{const s=t.searchResult,{algolia:n}=s,r=b(s,["algolia"]);return Object.assign({},e,{loadingMore:!1,page:t.page,algolia:n,searchResult:Object.assign({commerceDisplay:null===(a=e.searchResult)||void 0===a?void 0:a.commerceDisplay,productListingCarousel:null===(i=e.searchResult)||void 0===i?void 0:i.productListingCarousel},r)})}case d.mt.addSponsoredProducts:{const s=null===(n=e.searchResult)||void 0===n?void 0:n.products,a=null===(r=e.searchResult)||void 0===r?void 0:r.pageSize,{sponsoredProducts:i,criteoFormatBeacons:c,sponsoredProductsPositionArray:o,commerceDisplay:g,productListingCarouselSponsoredProducts:l,productListingCarouselSponsoredProductsFormatBeacons:u}=t;if(s&&i&&a){const a=((e,t,s,a)=>{if(!t||!t.length)return[];if(!e||0===e.length)return t;switch(s){case p.yO.priceHighToLow:return[...t,...e.slice(0,4)].sort((e,t)=>t.regularPrice-t.saving-(e.regularPrice-e.saving));case p.yO.priceLowToHigh:return[...t,...e.slice(0,4)].sort((e,t)=>e.regularPrice-e.saving-(t.regularPrice-t.saving));case p.yO.highestRated:return[...t,...e.slice(0,4)].sort((e,t)=>t.customerRating-e.customerRating)}if(a&&a.length>0){const s=a.length>5&&e.length<8?e.slice(0,4):e,i=[...t];for(let e=0;e<a.length;e++)e<=s.length&&i.splice(a[e]-1,0,s[e]);return i.filter(e=>void 0!==e)}return t})(i,s,t.sort,o);return Object.assign(Object.assign({},e),{isSponsoredProductsLoaded:!0,searchResult:Object.assign(Object.assign({},e.searchResult),{products:a,organicAndSponsoredProducts:a,criteoFormatBeacons:c,commerceDisplay:g,productListingCarousel:{products:l,criteoFormatBeacons:u}})})}return e}case d.mt.addPlpBanner:return Object.assign({},e,{searchResult:Object.assign(Object.assign({},e.searchResult),t.searchResult)});case d.mt.setState:return Object.assign({},e,t.state);case d.mt.updateCategory:return t.isMobile?Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{category:t.category,searching:!0,expValue:e.expValue})}):Object.assign({},h,{category:t.category,searching:!0,expValue:e.expValue});case d.mt.updateAvailabilities:if(t.isMobile){const s=t.append?Object.assign({},e.availabilities,t.availabilities):t.availabilities;return Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{availabilities:s})})}return Object.assign({},e,{availabilities:t.append?Object.assign({},e.availabilities,t.availabilities):t.availabilities});case d.mt.getSiblingCategoriesFailure:return Object.assign({},e,{searching:!1});case d.mt.addDynamicContent:return Object.assign(Object.assign({},e),{dynamicContent:t.dynamicContent});case d.mt.clearDynamicContent:return Object.assign(Object.assign({},e),{dynamicContent:null});case d.mt.clearRecommendations:return Object.assign(Object.assign({},e),{recommendations:h.recommendations});case d.mt.clearCommerceDisplay:return Object.assign(Object.assign({},e),{searchResult:Object.assign(Object.assign({},e.searchResult),{commerceDisplay:null})});case d.mt.searchingDone:return Object.assign(Object.assign({},e),{searching:!1,staging:Object.assign(Object.assign({},e.staging),{searching:!1})});case d.mt.setInitialSearchState:return Object.assign(Object.assign({},h),{expValue:e.expValue,algolia:e.algolia});case d.mt.updateCategoryDynamicContent:return Object.assign(Object.assign({},e),{category:Object.assign(Object.assign({},e.category),{dynamicContent:t.dynamicContent})});case d.mt.updateMinMaxPrice:return Object.assign(Object.assign({},e),{minPrice:t.minPrice,maxPrice:t.maxPrice,rangeQueryHasResults:!0});case d.mt.applyRangeQuery:return Object.assign(Object.assign({},e),{path:t.path,pathBeforeRangeQuery:t.pathBeforeRangeQuery,searching:!0,wasFacetFilterSelected:!0,minPrice:t.minPrice,maxPrice:t.maxPrice});case d.mt.applyStagingRangeQuery:return Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{path:t.path,pathBeforeRangeQuery:t.pathBeforeRangeQuery,searching:!0,wasFacetFilterSelected:!0,minPrice:t.minPrice,maxPrice:t.maxPrice})});case d.mt.clearRangeQuery:return Object.assign(Object.assign({},e),{path:t.path,minPrice:"",maxPrice:"",appliedRangeQuery:!1,searching:!0,wasFacetFilterSelected:!0,rangeQueryHasResults:!1});case d.mt.clearStagingRangeQuery:return Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{path:t.path,minPrice:"",maxPrice:"",appliedRangeQuery:!1,searching:!0,wasFacetFilterSelected:!0,rangeQueryHasResults:!1})});case d.mt.applyRangeQueryResult:return Object.assign(Object.assign({},e),{rangeQueryHasResults:t.rangeQueryHasResults,path:t.path,pathBeforeRangeQuery:void 0,appliedRangeQuery:!0});case d.mt.applyStagingRangeQueryResult:return Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{rangeQueryHasResults:t.rangeQueryHasResults,path:t.path,pathBeforeRangeQuery:void 0,appliedRangeQuery:!0})});case d.mt.updatePriceFacet:return Object.assign({},e);case d.mt.clearAppliedRangeFlag:return Object.assign(Object.assign({},e),{appliedRangeQuery:!!t.isMobile&&e.appliedRangeQuery,staging:Object.assign(Object.assign({},e.staging),{appliedRangeQuery:!1})});case d.mt.clearMinMaxPrice:return Object.assign(Object.assign({},e),{minPrice:"",maxPrice:"",rangeQueryHasResults:!1});case d.mt.setRpu:return t.isMobile?Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{isRpuToggled:t.isRpuToggled})}):Object.assign(Object.assign({},e),{isRpuToggled:t.isRpuToggled});case d.mt.setSearchExp:return Object.assign(Object.assign({},e),{expValue:t.expValue});case d.mt.setStagingSearchState:return Object.assign({},e,{staging:null===(c=t.stagingData)||void 0===c?void 0:c.staging});case d.mt.updateStagingSearchResult:return Object.assign({},e,{staging:Object.assign(Object.assign({},e.staging),{loadingMore:!1,page:t.page,searchResult:t.searchResult})});case d.mt.stagingSearchingDone:return Object.assign(Object.assign({},e),{staging:Object.assign(Object.assign({},e.staging),{searching:!1})});case d.mt.applyStagingSearchState:return Object.assign(Object.assign({},e),e.staging);case d.mt.resetStagingSearchState:{const{staging:t}=e,s=b(e,["staging"]);return Object.assign(Object.assign({},e),{staging:Object.assign({},s)})}case d.mt.updateCollectionContent:return Object.assign(Object.assign({},e),{collection:Object.assign(Object.assign({},e.collection),{id:t.collectionContent.id,aliasId:t.collectionContent.aliasId,seo:t.collectionContent.seo,dynamicContent:Object.assign(Object.assign({},t.collectionContent),{h1:t.collectionContent.collectionName})})});default:return e}},O={language:"en",locale:"en-CA",messages:{}},j=(e=O,t)=>t.type===a.Yx.INITIALIZE_INTL?Object.assign({formats:t.formats,messages:t.messages},t.intl):e;var y=s(86916),v=s(28542);const f={cart:{count:0},isGoogleUser:!1,isGetLocationError:!1,isGetLocationLoading:!1,shippingLocation:y.g[v.du.ON],favouriteList:{id:"",products:[],isSidesheetOpen:!1,isLoading:!0,isUpdateError:!1,maxItems:100}},S=(e=f,t)=>{switch(t.type){case a.cw.clearLocationError:return Object.assign(Object.assign({},e),{isGetLocationError:!1});case a.cw.fetchLocation:return Object.assign(Object.assign({},e),{isGetLocationLoading:!0,isGetLocationError:!1});case a.cw.getGeoLocateFailure:return Object.assign(Object.assign({},e),{preference:Object.assign({},t.preference)});case a.cw.getGeoLocateSuccess:return Object.assign(Object.assign({},e),{geoLocation:Object.assign({},t.geoLocation),preference:{geoLocation:"allow"}});case a.cw.getLocationFailure:return Object.assign(Object.assign({},e),{isGetLocationLoading:!1,isGetLocationError:!0});case a.cw.getLocationSuccess:case a.cw.locateFromSession:{const{shippingLocation:s}=t;return Object.assign(Object.assign({},e),{shippingLocation:Object.assign({},s),isGetLocationLoading:!1,isGetLocationError:!1})}case a.cw.setIsGoogleUser:return Object.assign(Object.assign({},e),{isGoogleUser:t.isGoogleUser});case a.cw.setPreference:return Object.assign(Object.assign({},e),{preference:Object.assign({},t.preference)});case a.cw.setShippingLocation:{const{shippingLocation:s}=t;return Object.assign(Object.assign({},e),{shippingLocation:Object.assign({},s)})}case a.cw.updateCartCount:return Object.assign(Object.assign({},e),{cart:{count:t.count}});case a.cw.updateFavouriteListSuccess:return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},t.favouriteList),{isSidesheetOpen:e.favouriteList.isSidesheetOpen,isLoading:!1,isUpdateError:!1})});case a.cw.toggleFavouriteSidesheet:return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},e.favouriteList),{isSidesheetOpen:!e.favouriteList.isSidesheetOpen,isLoading:!1})});case a.cw.setFavouriteListLoading:return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},e.favouriteList),{isLoading:!0,isUpdateError:!1})});case a.cw.updateFavouriteListError:return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},e.favouriteList),{isLoading:!1,isUpdateError:!0})});case a.cw.addFavouriteSkus:{const s=Array.isArray(t.products)?t.products:[],a=Array.isArray(e.favouriteList.products)?e.favouriteList.products:[],i=new Set(a.map(e=>e.sku)),n=s.filter(e=>e&&e.sku&&!i.has(e.sku));return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},e.favouriteList),{products:[...a,...n],isLoading:!1,isUpdateError:!1})})}case a.cw.removeFavouriteSku:return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},e.favouriteList),{products:Array.isArray(e.favouriteList.products)?e.favouriteList.products.filter(e=>e.sku!==t.sku):[],isLoading:!1})});case a.cw.setFavouriteListMaxItems:return Object.assign(Object.assign({},e),{favouriteList:Object.assign(Object.assign({},e.favouriteList),{maxItems:t.maxItems})});default:return e}};var L=s(47389),w=s(84575),R=s(82808),C=s(11100);const F=(e=false,t)=>t.type===a.Vn.setAdBlockerIsActive?t.adBlockerIsActive:e,P=(e=false,t)=>"redux-responsive/CALCULATE_RESPONSIVE_STATE"===t.type||e,I=(e=null,t)=>t.type===a.Vn.setAppVariables?{appEnv:t.appEnv,muiUserAgent:t.muiUserAgent,nodeEnv:t.nodeEnv,standalone:t.standalone,userAgent:t.userAgent,versionNumber:t.versionNumber,appMode:t.appMode,isMenuLazyLoaded:t.isMenuLazyLoaded}:e,x={regionCode:"ON",country:void 0},N=(e=x,t)=>{switch(t.type){case a.Vn.setRegionCode:return t.regionCode?Object.assign(Object.assign({},e),{regionCode:t.regionCode}):e;case a.Vn.setCountry:return t.country?Object.assign(Object.assign({},e),{country:t.country}):e;default:return e}},E=(e,t)=>{switch(t.type){case a.Vn.updateStore:{const{path:s="",data:a,updateType:i}=t,n="replace_store"===i?"replace":"extend";return(0,R.Do)(e,s.split("."),a,n)}case a.Vn.batchUpdateStore:{const{queue:s}=t;if(!s.length)return e;const i=s.pop(),n=E(e,Object.assign({type:a.Vn.updateStore},i));return E(n,Object.assign(Object.assign({},t),{queue:s}))}default:return e}},A=e=>(0,L.combineReducers)({environment:I,location:N,adBlockerIsActive:F,hasResponsiveStateBeenInitialized:P,screenSize:(0,w.createResponsiveStateReducer)({extraLarge:1/0,extraSmall:C.AV.extraSmall.maxWidth,small:C.AV.small.maxWidth,medium:C.AV.medium.maxWidth,large:C.AV.large.maxWidth},{initialMediaType:e})});var U;!function(e){e.bot="extraSmall",e.car="small",e.desktop="medium",e.phone="extraSmall",e.tablet="small",e.tv="large"}(U||(U={}));var k=s(78343);const T={content:null,contentType:null,error:{error:null,statusCode:null},loading:!1},Q=(e=T,t)=>{switch(t.type){case k.F.fetchContent:case k.F.fetchFallbackContent:return Object.assign(Object.assign({},e),{loading:!0});case k.F.getContentSuccess:return Object.assign(Object.assign({},e),{content:t.content,contentType:"homepage",error:T.error,loading:!1});case k.F.getFallbackContentSuccess:return Object.assign(Object.assign({},e),{content:t.content,contentType:"homepageFallback",error:T.error,loading:!1});case k.F.homepageError:return Object.assign(Object.assign({},e),{contentType:"homepageError",error:{error:t.error,statusCode:t.error.statusCode},loading:!1});default:return e}};var D=s(43456);const M={content:void 0,loading:!1},B=(e=M,t)=>{switch(t.type){case D.a.fetchContent:return Object.assign(Object.assign({},e),{loading:!0});case D.a.fetchContentSuccess:return{content:t.content,loading:!1};case D.a.fetchContentError:return Object.assign(Object.assign({},e),{loading:!1});default:return e}};var H=s(58882);const V={content:void 0,loading:!1,livePreviewHash:void 0,previewTimestamp:void 0},_=(e=V,t)=>{switch(t.type){case H.C.fetchContent:return Object.assign(Object.assign({},e),{loading:!0});case H.C.fetchContentSuccess:return{content:t.content,loading:!1};case H.C.fetchContentError:return Object.assign(Object.assign({},e),{loading:!1});case H.C.setLivePreviewHash:return Object.assign(Object.assign({},e),{livePreviewHash:t.hash});case H.C.setPreviewTimestamp:return Object.assign(Object.assign({},e),{previewTimestamp:t.previewTimestamp});default:return e}};var q=s(76386);const G={tree:void 0,loading:!1},z=(e=G,t)=>{switch(t.type){case q._.fetchSideNavigation:return Object.assign(Object.assign({},e),{loading:!0});case q._.fetchSideNavigationSuccess:return{tree:t.tree,loading:!1};case q._.fetchSideNavigationError:return Object.assign(Object.assign({},e),{loading:!1});case q._.clearSideNavigation:return G;default:return e}};var K=s(96813);const Z={showNpsSurvey:!0},$=(e=Z,t)=>t.type===K.e.toggleNpsSurvey?Object.assign(Object.assign({},e),{showNpsSurvey:t.showNpsSurvey}):e,W={},X=(e=W,t)=>(t.type,e);var J=s(17752);const Y={googleAds:{},criteoAds:{}},ee=(e=Y,t)=>{switch(t.type){case J.e.adLoaded:return Object.assign(Object.assign({},e),{googleAds:Object.assign(Object.assign({},e.googleAds),{[t.adId]:{isHouseAd:t.isHouseAd,isNativeAd:t.isNativeAd,adRendered:t.adRendered}})});case J.e.criteoIsFetching:return Object.assign(Object.assign({},e),{criteoAds:Object.assign(Object.assign({},e.criteoAds),{[t.placement]:{isFetching:!0,hasFetched:!1}})});case J.e.criteoHasFetched:return Object.assign(Object.assign({},e),{criteoAds:Object.assign(Object.assign({},e.criteoAds),{[t.placement]:{isFetching:!1,hasFetched:!0}})});case J.e.resetCriteoFetchState:{const s=Object.assign({},e.criteoAds);return delete s[t.placement],Object.assign(Object.assign({},e),{criteoAds:s})}default:return e}},te={isLoading:!0,messages:{},storeMessagesFailed:!1,hasFetched:!1},se=(e=te,t)=>{switch(t.type){case a.un.getStoreMessageRequest:return Object.assign(Object.assign({},e),{isLoading:!0});case a.un.getStoreMessagesSuccess:return Object.assign(Object.assign({},e),{isLoading:!1,messages:t.storeMessages,storeMessagesFailed:!1,hasFetched:!0});case a.un.getStoreMessagesError:return Object.assign(Object.assign({},e),{isLoading:!1,storeMessagesFailed:!0,hasFetched:!0});case a.un.cleanUpStoreMessages:return{isLoading:!1,messages:{},storeMessagesFailed:!1,hasFetched:!1};default:return e}};var ae=s(82556);const ie={isLoading:!0,statuses:{}},ne=(e=ie,t)=>{switch(t.type){case ae.S.getStoresStatus:return Object.assign(Object.assign({},e),{isLoading:!0});case ae.S.storesStatusSuccess:return Object.assign(Object.assign({},e),{isLoading:!1,statuses:t.storesStatus,storeStatusFailed:!1,hasFetched:!0});case ae.S.storeStatusFailure:return Object.assign(Object.assign({},e),{isLoading:!1,storeStatusFailed:!0,hasFetched:!0});case ae.S.cleanUpStoresStatus:return{isLoading:!1,statuses:{},storeStatusFailed:!1,hasFetched:!1};default:return e}},re={recentlyViewed:[]},ce=(e=re,t)=>(t.type,e);var oe=s(61760);const ge={dynamicContent:void 0,loading:!1,brandName:void 0},le=(e=ge,t)=>{switch(t.type){case oe.v.fetchContent:return Object.assign(Object.assign({},e),{brandName:void 0,loading:!0});case oe.v.fetchContentSuccess:return{dynamicContent:t.dynamicContent,brandName:t.brandName,loading:!1};case oe.v.fetchContentError:return Object.assign(Object.assign({},e),{brandName:void 0,loading:!1});case oe.v.reset:return ge;default:return e}};var ue=s(85862);const de=(e={data:{}},t)=>t.type===ue.o.setOffers?((e,t)=>{const{offers:s,sku:a}=t.payload,i={};return s.forEach(e=>{i[e.offerId]=e}),Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{[a]:i})})})(e,t):e;var pe,be=s(3941),he=s(30532);!function(e){e.initial="initial",e.loading="loading",e.loaded="loaded",e.error="error"}(pe||(pe={}));const me={status:pe.initial,availabilities:void 0,error:void 0},Oe=(e=me,t)=>{switch(t.type){case he.zX.getAvailabilitiesLoading:return Object.assign(Object.assign({},e),{status:pe.loading});case he.zX.getAvailabilitiesSuccess:return Object.assign(Object.assign({},e),{status:pe.loaded,availabilities:Object.assign(Object.assign({},(null==e?void 0:e.availabilities)||{}),t.availabilities)});case he.zX.getAvailabilitiesError:return Object.assign(Object.assign({},e),{status:pe.error,error:t.error});default:return e}};const je={categories:{},isLoading:!1},ye="scm/categories/getCategoryContent",ve="scm/categories/onError",fe="scm/categories/setCategoryContent";const Se=(e=je,t)=>{switch(t.type){case ye:return Object.assign(Object.assign({},e),{isLoading:!0});case ve:return Object.assign(Object.assign({},e),{isLoading:!1});case fe:{const s=t;return{categories:Object.assign(Object.assign({},e.categories),{[s.categoryId]:s.categoryContent}),isLoading:!1}}default:return e}};s(94301);const Le="scm/Content/getContent",we="scm/Content/setContent",Re={body:"",id:"",loading:!0,metadata:{altLangId:"",altLangSeoText:"",canonicalUrl:"",description:""},title:""},Ce=(e=Re,t)=>{switch(t.type){case Le:return Object.assign(Object.assign({},e),{loading:!0});case we:{const e=t;return{body:e.body,id:e.id,loading:!1,metadata:e.metadata,title:e.title}}default:return e}};var Fe=s(66709);const Pe={isLoading:!1,nearbyStores:[]},Ie=(e=Pe,t)=>{switch(t.type){case Fe.y.getNearbyStores:return Object.assign(Object.assign({},e),{isLoading:!0});case Fe.y.setNearbyStores:return{isLoading:!1,nearbyStores:t.nearbyStores};case Fe.y.onError:return Object.assign(Object.assign({},e),{isLoading:!1});default:return e}};s(25481)}}]);